local bosses = {
	["Duke Krule"] = {
		position = Position(33456, 31497, 13),
	},
	["Count Vlarkorth"] = {
		position = Position(33456, 31407, 13),
	},
	["Earl Osam"] = {
		position = Position(33517,31441, 13),
	},
	["Lord Azaram"] = {
		position = Position(33423, 31497, 13),
	},
	["Sir Baeloc"] = {
		position = Position(33425, 31408, 13),
	},
	["King Zelus"] = {
		position = Position(33490, 31546, 13),
	},
	-- Random
	["Brokul"] = {
		position = Position(33522, 31463, 15),
	},
	["Faceless Bane"] = {
		position = Position(33638, 32560, 13),
	},
	["Drume"] = {
		position = Position(32458, 32507, 6),
	},
	["Grand Master Oberon"] = {
		position = Position(33364, 31341, 9),
	},
	["Scarlett Etzel"] = {
		position = Position(33395, 32669, 6),
	},
	["Timira the Many-Headed"] = {
		position = Position(33807, 32700, 8),
	},
	["Magma Bubble"] = {
		position = Position(33669, 32932, 15),
	},
	-- Dream Courts
	["Plagueroot"] = {
		position = Position(32208, 32036, 13),
	},
	["Alptramun"] = {
		position = Position(32208, 32036, 13),
	},
	["Izcandar The Banished"] = {
		position = Position(32208, 32036, 13),
	},
	["Maxxenius"] = {
		position = Position(32208, 32036, 13),
	},
	["Malofur Mangrinder"] = {
		position = Position(32208, 32036, 13),
	},
	["The Nightmare Beast"] = {
		position = Position(32211, 32084, 15),
	},
	-- Fearst of Souls
	["The Dread Maiden"] = {
		position = Position(33746, 31506, 14),
	},
	["The Fear Feaster"] = {
		position = Position(33742, 31471, 14),
	},
	["The Pale Worm"] = {
		position = Position(33780, 31504, 14),
	},
	["The Unwelcome"] = {
		position = Position(33736, 31537, 14),
	},
	-- ["Brain Head"] = {
	-- 	position = Position(0),
	-- },
	--Lion Sanctum
	["Utua Stone Sting"] = {
		position = Position(33123, 32235, 12),
	},
	["Srezz Yellow Eyes"] = {
		position = Position(33123, 32235, 12),
	},
	["Katex Blood Tongue"] = {
		position = Position(33123, 32235, 12),
	},
	["Yirkas Blue Scales"] = {
		position = Position(33123, 32235, 12),
	},
	-- SoulWar
	["Goshnar's Cruelty"] = {
		position = Position(0),
	},
	["Goshnar's Greed"] = {
		position = Position(0),
	},
	["Goshnar's Hatred"] = {
		position = Position(0),
	},
	["Goshnar's Malice"] = {
		position = Position(0),
	},
	["Goshnar's Spite"] = {
		position = Position(0),
	},
	["Goshnar's Megalomania"] = {
		position = Position(0),
	},
	["Shadowpelt"] = {
		position = Position(0),
	},
	["Sharpclaw"] = {
		position = Position(0),
	},
	["Kroazur"] = {
		position = Position(33615,32306,90),
	},
	-- Forgotten Knowledge
	["Lady Tenebris"] = {
		position = Position(32902, 31630, 14),
	},
	["Lloyd"] = {
		position = Position(32759, 32875, 14),
	},
	["Soul of Dragonking Zyrtarch"] = {
		position = Position(33391, 31184, 10),
	},
	["Melting Frozen Horror"] = {
		position = Position(32302, 31096, 14),
	},
	["The Enraged Thorn Knight"] = {
		position = Position(32302, 31096, 14),
	},
	["The Time Guardian"] = {
		position = Position(32302, 31096, 14),
	},
	["The Last Lore Keeper"] = {
		position = Position(32302, 31096, 14),
	},
	-- Library
	["Mazzinor"] = {
		position = Position(32616, 32529, 13),
	},
	["Ghulosh"] = {
		position = Position(32662, 32713, 13),
	},
	["Lokathmor"] = {
		position = Position(32464, 32654, 12),
	},
	["Scourge of Oblivion"] = {
		position = Position(32480, 32601, 15),
	},
	["Gorzindel"] = {
		position = Position(32660, 32736, 12),
	},
	-- PirateTail
	["Ratmiral Blackwhiskers"] = {
		position = Position(33895, 31390, 15),
	},
	["Tentugly's Head"] = {
		position = Position(33791, 31386, 6),
	},
	-- The cults
	["Ravenous Hunger"] = {
		position = Position(33137, 31949, 15),
	},
	-- ["The Source of Corruption"] = {
	-- 	position = Position(0),
	-- },
	-- ["The Unarmored Voidborn"] = {
	-- 	position = Position(0),
	-- },
	-- ["The Souldespoiler"] = {
	-- 	position = Position(0),
	-- },
	-- ["The Sinister Hermit"] = {
	-- 	position = Position(0),
	-- },
	-- ["The Sandking"] = {
	-- 	position = Position(0),
	-- },
	-- ["The False God"] = {
	-- 	position = Position(0),
	-- },
	-- ["Essence of Malice"] = {
	-- 	position = Position(0),
	-- },
	-- Ferumbras Ascendant
	["Shulgrax"] = {
		position = Position(33434, 32793, 13),
	},
	["Ragiaz"] = {
		position = Position(33453, 32356, 13),
	},
	["Plagirath"] = {
		position = Position(33229, 31496, 13),
	},
	["Mazoran"] = {
		position = Position(33593, 32652, 14),
	},
	["Tarbaz"] = {
		position = Position(33418, 32846, 11),
	},
	["Zamulosh"] = {
		position = Position(33680, 32738, 11),
	},
	["Razzagorn"] = {
		position = Position(33383, 32455, 14),
	},
	-- Heart of Destruction
	["Anomaly"] = {
		position = Position(32246, 31252, 14),
	},
	["Rupture"] = {
		position = Position(32305, 31249, 14),
	},
	["Eradicator"] = {
		position = Position(32336, 31293, 14),
	},
	["Realityquake"] = {
		position = Position(32181, 31240, 14),
	},
	["Outburst"] = {
		position = Position(32204, 31290, 14),
	},
}

local config = {
	requiredLevel = 250,
	position = Position(32350, 32223, 7),
	portal = {33004, 32979, 33005, 33007, 33006},
}

local BoostedTeleport = GlobalEvent("TeleportBoss")
function BoostedTeleport.onStartup(interval)
	local boostedBoss = Game.getBoostedBoss()
	local boss = bosses[boostedBoss]
	if boss then
		createdTP = Game.createItem(config.portal[math.random(1, #config.portal)], 1, config.position)
		createdTP:setDestination(boss.position)
		createdTP:setActionId(15)
	end
	return true
end

BoostedTeleport:register()

local checkPortal = MoveEvent()

function checkPortal.onStepIn(player, item, position, fromPosition)
	local player = player:getPlayer()
	if not player then
		return true
	end

	if item.actionid == 15 then
		if player:getLevel() < config.requiredLevel then
			player:sendCancelMessage('Required level is ' .. config.requiredLevel .. '.')
			player:teleportTo(fromPosition)
			fromPosition:sendMagicEffect(CONST_ME_TELEPORT)
			return false
		elseif not player:isPremium() then
			player:sendCancelMessage("You need a premium account to use this feature.")
			return false
		end
	end

		return true
end

checkPortal:type('stepin')
checkPortal:aid(15)
checkPortal:register()
